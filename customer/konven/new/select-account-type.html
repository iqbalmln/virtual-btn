<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="BTN" />
    <meta name="author" content="BTN" />
    <title>BTN Sahabat Keluarga Indonesia</title>
    <link rel="icon" href="/assets/fav-icon.ico" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/font.awesome.min.css" />
    <link rel="stylesheet" href="/css/select2.min.css" />
    <link rel="stylesheet" href="/css/styles.css" />

    <script src="/js/jquery-3.6.3.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/select2.min.js"></script>
    <script src="/js/i18n/id.js"></script>
    <script src="/js/app.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand mr-auto" href="/openaccount/"
        ><img src="/assets/img/brand/logo.png" alt="Logo Bank BTN"
      /></a>
    </nav>

    <div class="container-fluid">
      <section class="content-header mt-3">
        <h1>Jenis Tabungan</h1>
      </section>

      <div class="row">
        <div class="col">
          <div class="alert alert-info bg-banknote-dark">
            <p>Dokumen yang perlu disiapkan sebagai berikut.</p>
            <ul>
              <li>Kartu tanda penduduk (KTP)</li>
              <li>Kartu NPWP (Jika ada)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="box">
            <div class="box-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="accTypeCB">Jenis Tabungan</label>
                    <select class="form-control" id="accTypeCB">
                      <option disabled selected>
                        --Pilih Jenis Tabungan--
                      </option>

                      <option value="1">TABUNGAN BTN BATARA</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <p id="accTypeDesc"></p>
                    <p>
                      <a
                        style="color: #0b549f"
                        class="nicelink d-none"
                        id="accTypeDetailLink"
                        href=""
                        target="_blank"
                        >Detail Info...</a
                      >
                    </p>
                  </div>
                </div>
                <div class="col-md-6" id="accTypeInfo"></div>
              </div>

              <div class="row">
                <div class="col-md-2 col-sm-4 mx-auto">
                  <div class="row">
                    <div class="col my-3">
                      <button id="nextBtn" type="button" class="nicebtn w-100">
                        Lanjut
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="mdlErrFlow"
      tabindex="-1"
      role="dialog"
      aria-labelledby="sessionOverModalLabel"
      aria-hidden="true"
      data-keyboard="false"
      data-backdrop="static"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2 style="font-size: 20px !important" class="modal-title">
              Tahapan Pembukaan Rekening Salah
            </h2>
          </div>
          <div class="modal-body">
            <form>
              <div class="row">
                <div class="col text-center">
                  Mohon maaf, tahapan pembukaan rekening Anda terjadi kesalahan.
                  <br />
                  Anda dapat melanjutkan tahapan pembukaan rekening menggunakan
                  nomor referensi dan nomor handphone Anda.
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <a class="btn btn-primary" href="#" role="button">OK</a>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="sessionReminderModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="sessionReminderModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2
              style="font-size: 20px !important"
              class="modal-title"
              id="sessionReminderModalLabel"
            >
              Session Segera Berakhir
            </h2>
          </div>
          <div class="modal-body">
            <form>
              <div class="row">
                <div class="col text-center">
                  Session Anda akan segera habis dalam 5 menit. Segera lanjutkan
                  pengisian data dan aktivitas Anda.
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-dismiss="modal"
              aria-label="Lanjut"
            >
              Lanjut
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="sessionOverModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="sessionOverModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2
              style="font-size: 20px !important"
              class="modal-title"
              id="sessionOverModalLabel"
            >
              Session Berakhir
            </h2>
          </div>
          <div class="modal-body">
            <form>
              <div class="row">
                <div class="col text-center">
                  Sesi Anda telah habis. Anda dapat melanjutkan pengisian data
                  atau keluar dari proses pembukaan rekening
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <a
              class="btn btn-primary"
              href="/customer/continue.html"
              role="button"
              >Lanjut</a
            >
            <a
              class="btn btn-secondary"
              href="/openaccount/logout"
              role="button"
              >Keluar</a
            >
          </div>
        </div>
      </div>
    </div>

    <script>
      function showSessionReminder() {
        $("#sessionReminderModal").modal({
          backdrop: "static",
          keyboard: false,
        });
      }
      var to1 = 600 * 1000;
      var timeout1 = setTimeout(showSessionReminder, to1);

      function showSessionOver() {
        $("#sessionOverModal").modal({ backdrop: "static", keyboard: false });
      }
      var to2 = 900 * 1000;
      var timeout2 = setTimeout(showSessionOver, to2);
    </script>

    <form>
      <input
        type="hidden"
        name="csrfmiddlewaretoken"
        value="5VmUd9S077UR4yx5VAy6ILbznhbcwf2RfwBvQYmg41FNNQNyKw661AhtXacSC4Q9"
      />
    </form>
    <script>
      var csrfToken = $("[name=csrfmiddlewaretoken]").val();
      var accTypeId = 0;

      function resetCaptcha() {
        $.post({
          url: "/openaccount/webcaptcha/refresh/",
          data: {
            csrfmiddlewaretoken: csrfToken,
          },
        }).done(function (data) {
          $(".captcha").attr("src", data.image_url);
          $("#id_captcha_0").val(data.key);
        });
      }

      function AgreeChecked() {
        var checkBox = document.getElementById("iagree");
        var btn = document.getElementById("yesBtn");

        if (checkBox.checked == true) {
          btn.disabled = false;
        } else {
          btn.disabled = true;
        }
      }

      function submitAgreement() {
        if (accTypeId) return;
        $("#yesBtn").attr("disabled", "disabled");
        var captcha0 = $("#id_captcha_0").val().trim();
        var captcha1 = $("#id_captcha_1").val().trim();
        window.location.replace("/customer/mobile-phone/verify.html");
        // $.post({
        //   url: "/openaccount/customer/select-account-type/proc",
        //   data: {
        //     csrfmiddlewaretoken: csrfToken,
        //     acc_type_id: accTypeId,
        //     captcha_0: captcha0,
        //     captcha_1: captcha1,
        //   },
        // })
        //   .done(function (data) {
        //     if (data.success == 1)
        //       window.location.replace(
        //         "/openaccount/customer/mobile-phone/verify"
        //       );
        //     else {
        //       if (data.error) {
        //         const arrError = data.error.split("-");
        //         if (arrError[0].trim() == 2) $("#mdlErrFlow").modal();
        //       }
        //       $("#agreeModal").modal("hide");
        //       $("#msgModalText").html(data.error);
        //       $("#msgModal").modal("show");
        //       $("#yesBtn").removeAttr("disabled");
        //       resetCaptcha();
        //     }
        //   })
        //   .fail(function (xhrObj, textStatus, errorThrown) {
        //     $("#agreeModal").modal("hide");
        //     $("#msgModalText").html(getCommonErrStr(errorThrown));
        //     $("#msgModal").modal("show");
        //     $("#yesBtn").removeAttr("disabled");
        //     resetCaptcha();
        //   });
      }
      $(document).ready(function () {
        $("#accTypeCB").change(function () {
          var accTypeDesc = "";
          var accTypeInfo = "";
          var accTypeId = $(this).val();

          // Sesuaikan konten accTypeDesc berdasarkan nilai accTypeId
          switch (accTypeId) {
            case "1":
              accTypeDesc =
                "Adalah tabungan yang dapat mendukung kemudahan financial, seperti menabung, bertransaksi, serta mengatur keuangan. Dilengkapi dengan Kartu ATM dan electronic channel yang memungkinkan nasabah bertransaksi kapanpun dan dimanapun. Dilengkapi dengan layanan notifikasi terkait transaksi rekening.";
              $("#accTypeDetailLink").removeClass("d-none");
              $("#accTypeInfo").html(
                '<div class="title-text">TABUNGAN BTN BATARA</div>\n<div class="row mt-2">\n    <div class="col-lg-6">\n        Minimum Saldo\n    </div>\n    <div class="col-lg-6 blue-color text-right">\n        Rp. 10,000\n    </div>\n</div>\n<div class="row mt-2">\n    <div class="col-lg-6">\n        Setoran Pertama\n    </div>\n    <div class="col-lg-6 blue-color text-right">\n        Bebas Setoran Awal\n    </div>\n</div>\n<div class="row mt-2">\n    <div class="col-lg-6">\n        Minimum Setoran Selanjutnya\n    </div>\n    <div class="col-lg-6 blue-color text-right">\n        Rp. 10,000\n    </div>\n</div>\n<div class="row mt-2">\n    <div class="col-lg-6">\n        Biaya Admin\n    </div>\n    <div class="col-lg-6 blue-color text-right">\n        Rp. 2,000\n    </div>\n</div>'
              );
              break;
            case "2":
              accTypeDesc = "Content 2";
              break;
            // Tambahkan case sesuai dengan nilai-nilai yang mungkin
            default:
              accTypeDesc = "Content 3";
              break;
          }

          // Isi elemen dengan id "accTypeDesc" dengan konten yang sesuai
          $("#accTypeDesc").html(accTypeDesc);
        });
        $("#nextBtn").click(function () {
          if (accTypeId) return;
          window.location.replace("/customer/terms-and-condition");
        });

        $("#yesBtn").click(function () {
          submitAgreement();
        });

        document.getElementById("accTypeCB").selectedIndex = 0;
      });
    </script>
  </body>
</html>
